{% if telegraf_plugins_extra is defined and telegraf_plugins_extra is iterable %}
{% for item in telegraf_plugins_extra %}
[[inputs.{{ item.plugin }}]]
{% if item.interval is defined %}
    interval = "{{ item.interval }}s"
{% endif %}
{% if item.config is defined and item.config is iterable %}
{% for items in item.config %}
    {{ items }}
{% endfor %}
{% endif %}
{% if item.tags is defined and item.tags is iterable %}
[inputs.{{ item.plugin }}.tags]
{% for items in item.tags %}
    {{ items }}
{% endfor %}
{% endif %}
{% if item.tagpass is defined and item.tagpass is iterable %}
[{{ item.plugin }}.tagpass]
{% for items in item.tagpass %}
    {{ items }}
{% endfor %}
{% endif %}
{% if item.tagdrop is defined and item.tagdrop is iterable %}
[{{ item.plugin }}.tagdrop]
{% for items in item.tagdrop %}
    {{ items }}
{% endfor %}
{% endif %}
{% if item.pass is defined and item.pass is iterable %}
[{{ item.plugin }}.pass]
{% for items in item.pass %}
    {{ items }}
{% endfor %}
{% endif %}
{% if item.drop is defined and item.drop is iterable %}
[{{ item.plugin }}.drop]
{% for items in item.drop %}
    {{ items }}
{% endfor %}
{% endif %}
{% if item.specifications is defined and item.specifications is iterable %}
[[{{item.plugin}}.specifications]]
{% for items in item.specifications %}
    {{ items }}
{% endfor %}
{% endif %}
 
## List of servers exposing jolokia read service
{% if item.servers is defined and item.servers is iterable %}
{% for items in item.servers %}
[[inputs.{{ item.plugin }}.servers]]
    name = "{{ items.name }}"
    host = "{{ items.host }}"
    port = "{{ items.port }}"
    
{% endfor %}
{% endif %}

## List of metrics collected on above servers
{% if item.metrics is defined and item.metrics is iterable %}
{% for items in item.metrics %}
[[inputs.{{ item.plugin }}.metrics]]
    name      = "{{ items.name }}"
    mbean     = "{{ items.mbean }}"
    {% if items.attribute is defined %}
    attribute = "{{ items.attribute  }}"
    {% endif %}

{% endfor %}
{% endif %}


{% endfor %}
{% endif %}
